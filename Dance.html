<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <title>Oneindige Carrousel Cirkel</title>

    <style>
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background: white;
        }

        /* DVD container */
        #dvd-container {
            position: absolute;
            width: 420px;
            height: 420px;
        }

        /* Cirkel (niet roterend) */
        #circle {
            position: relative;
            width: 100%;
            height: 100%;
        }

        /* Strakke rechthoeken */
        .item {
            position: absolute;
            width: 120px;
            height: 70px;
            top: 50%;
            left: 50%;
        }

        /* Afbeelding */
        .item img,
        .item video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }
    </style>
</head>

<body>

<div id="dvd-container">
    <div id="circle"></div>
</div>

<script>
    const circle = document.getElementById("circle");
    const container = document.getElementById("dvd-container");

    /* Content */
    const itemsData = [
        { type: "image", src: "dans1.jpg" },
        { type: "image", src: "dans2.jpg" },
        { type: "video", src: "pigeon.mp4" },
        { type: "image", src: "dans3.jpg" },
        { type: "image", src: "dans4.jpg" }
    ];

    const itemWidth = 120;
    const radius = 180; // groot genoeg â†’ geen overlap
    const speed = (Math.PI * 2) / 20000; // volledige cyclus in 20s
    const items = [];
    const count = itemsData.length;

    /* Maak items */
    itemsData.forEach((data, i) => {
        const el = document.createElement("div");
        el.className = "item";

        if (data.type === "image") {
            const img = document.createElement("img");
            img.src = data.src;
            el.appendChild(img);
        } else {
            const video = document.createElement("video");
            video.src = data.src;
            video.autoplay = true;
            video.loop = true;
            video.muted = true;
            video.playsInline = true;
            el.appendChild(video);
        }

        circle.appendChild(el);

        items.push({
            el,
            angle: (Math.PI * 2 / count) * i
        });
    });

    /* Continue carrousel */
    let lastTime = performance.now();

    function animateCarousel(time) {
        const delta = time - lastTime;
        lastTime = time;

        items.forEach(item => {
            item.angle += speed * delta;

            const x = Math.cos(item.angle) * radius;
            const y = Math.sin(item.angle) * radius;

            item.el.style.transform = `
            translate(${x}px, ${y}px)
            translate(-50%, -50%)
        `;
        });

        requestAnimationFrame(animateCarousel);
    }

    requestAnimationFrame(animateCarousel);

    /* DVD-logo beweging */
    let dx = 1.4, dy = 1.2;
    let px = 100, py = 100;

    function moveDVD() {
        const w = window.innerWidth;
        const h = window.innerHeight;
        const rect = container.getBoundingClientRect();

        px += dx;
        py += dy;

        if (px <= 0 || px + rect.width >= w) dx *= -1;
        if (py <= 0 || py + rect.height >= h) dy *= -1;

        container.style.transform = `translate(${px}px, ${py}px)`;

        requestAnimationFrame(moveDVD);
    }

    moveDVD();
</script>

</body>
</html>
