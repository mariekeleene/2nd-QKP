<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <title>Schuivende Rechthoeken in Cirkel</title>

    <style>
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background: white;
        }

        /* DVD container */
        #dvd-container {
            position: absolute;
            width: 400px;
            height: 400px;
            pointer-events: none;
        }

        /* Cirkel zelf beweegt niet/roteert niet */
        #circle {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .item {
            position: absolute;
            width: 120px;
            height: 70px;
            top: 50%;
            left: 50%;
            transform-origin: center center;
            background-size: cover;
            background-position: center;
            border-radius: 4px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.25);
        }
    </style>
</head>

<body>

<div id="dvd-container">
    <div id="circle"></div>
</div>

<script>
    const circle = document.getElementById("circle");
    const container = document.getElementById("dvd-container");

    const images = [
        "https://picsum.photos/300/200?1",
        "https://picsum.photos/300/200?2",
        "https://picsum.photos/300/200?3",
        "https://picsum.photos/300/200?4",
        "https://picsum.photos/300/200?5",
        "https://picsum.photos/300/200?6",
        "https://picsum.photos/300/200?7",
        "https://picsum.photos/300/200?8"
    ];

    const radius = 150;
    const duration = 20000; // 20 seconden per volledige schuif
    const count = images.length;

    const items = [];
    const slots = [];

    /* Bereken vaste posities op de cirkel */
    for (let i = 0; i < count; i++) {
        const angle = (Math.PI * 2 / count) * i;
        slots.push({
            x: Math.cos(angle) * radius,
            y: Math.sin(angle) * radius
        });
    }

    /* Maak items */
    images.forEach((img, i) => {
        const el = document.createElement("div");
        el.className = "item";
        el.style.backgroundImage = `url(${img})`;
        circle.appendChild(el);

        items.push({
            el,
            index: i
        });
    });

    /* Interpolatie helper */
    function lerp(a, b, t) {
        return a + (b - a) * t;
    }

    /* Animatie van schuiven */
    let startTime = performance.now();

    function updatePositions(time) {
        const elapsed = (time - startTime) % duration;
        const t = elapsed / duration;

        items.forEach((item, i) => {
            const from = slots[item.index];
            const to = slots[(item.index + 1) % count];

            const x = lerp(from.x, to.x, t);
            const y = lerp(from.y, to.y, t);

            item.el.style.transform = `
            translate(${x}px, ${y}px)
            translate(-50%, -50%)
        `;
        });

        requestAnimationFrame(updatePositions);
    }

    requestAnimationFrame(updatePositions);

    /* DVD-logo beweging */
    let x = 100, y = 100;
    let vx = 1.4, vy = 1.1;

    function moveDVD() {
        const w = window.innerWidth;
        const h = window.innerHeight;
        const rect = container.getBoundingClientRect();

        x += vx;
        y += vy;

        if (x <= 0 || x + rect.width >= w) vx *= -1;
        if (y <= 0 || y + rect.height >= h) vy *= -1;

        container.style.transform = `translate(${x}px, ${y}px)`;

        requestAnimationFrame(moveDVD);
    }

    moveDVD();
</script>

</body>
</html>
