<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <title>Compacte Oneindige Carrousel</title>

    <style>
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background: white;
        }

        /* DVD container â€“ compact */
        #dvd-container {
            position: absolute;
            width: 300px;
            height: 300px;
        }

        #circle {
            position: relative;
            width: 100%;
            height: 100%;
        }

        /* Strakke rechthoeken */
        .item {
            position: absolute;
            width: 90px;
            height: 55px;
            top: 50%;
            left: 50%;
        }

        /* Image & video identiek */
        .item img,
        .item video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }
    </style>
</head>

<body>

<div id="dvd-container">
    <div id="circle"></div>
</div>

<script>
    const circle = document.getElementById("circle");
    const container = document.getElementById("dvd-container");

    /* Content: 4 images + 1 video */

    const itemsData = [
        { type: "image", src: "images/dans2.JPG" },
        { type: "video", src: "images/pigeon.mp4" },
        { type: "image", src: "images/dans3.JPG" },
        { type: "image", src: "images/dans1.JPG" },
        { type: "image", src: "images/dans4.JPG" }
    ];



    const radius = 110;               // compact
    const duration = 20000;           // 20s per ronde
    const speed = (Math.PI * 2) / duration;

    const items = [];

    /* Items maken */
    itemsData.forEach((data, i) => {
        const el = document.createElement("div");
        el.className = "item";

        if (data.type === "image") {
            const img = document.createElement("img");
            img.src = data.src;
            el.appendChild(img);
        } else {
            const video = document.createElement("video");
            video.src = data.src;
            video.autoplay = true;
            video.loop = true;
            video.muted = true;
            video.playsInline = true;
            el.appendChild(video);
        }

        circle.appendChild(el);

        items.push({
            el,
            angle: (Math.PI * 2 / itemsData.length) * i
        });
    });

    /* Oneindige continue carrousel */
    let lastTime = performance.now();

    function animateCarousel(time) {
        const delta = time - lastTime;
        lastTime = time;

        items.forEach(item => {
            item.angle += speed * delta;

            const x = Math.cos(item.angle) * radius;
            const y = Math.sin(item.angle) * radius;

            item.el.style.transform =
                `translate(${x}px, ${y}px) translate(-50%, -50%)`;
        });

        requestAnimationFrame(animateCarousel);
    }

    requestAnimationFrame(animateCarousel);

    /* DVD-logo beweging */
    let x = 80, y = 80;
    let vx = 1.3, vy = 1.1;

    function moveDVD() {
        const w = window.innerWidth;
        const h = window.innerHeight;
        const rect = container.getBoundingClientRect();

        x += vx;
        y += vy;

        if (x <= 0 || x + rect.width >= w) vx *= -1;
        if (y <= 0 || y + rect.height >= h) vy *= -1;

        container.style.transform = `translate(${x}px, ${y}px)`;
        requestAnimationFrame(moveDVD);
    }

    moveDVD();
</script>

</body>
</html>
