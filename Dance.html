<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <title>Oneindige Carrousel Cirkel</title>

    <style>
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background: white;
        }

        #dvd-container {
            position: absolute;
            width: 420px;
            height: 420px;
        }

        #circle {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .item {
            position: absolute;
            width: 120px;
            height: 70px;
            top: 50%;
            left: 50%;
        }

        /* Afbeeldingen & video exact gelijk */
        .item img,
        .item video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }
    </style>
</head>

<body>

<div id="dvd-container">
    <div id="circle"></div>
</div>

<script>
    const circle = document.getElementById("circle");
    const container = document.getElementById("dvd-container");

    /* Content */
    const itemsData = [
        { type: "image", src: "dans1.jpg" },
        { type: "image", src: "dans2.jpg" },
        { type: "video", src: "pigeon.mp4" },
        { type: "image", src: "dans3.jpg" },
        { type: "image", src: "dans4.jpg" }
    ];

    const radius = 180;
    const rotationDuration = 20000; // 20s
    const angularSpeed = (Math.PI * 2) / rotationDuration;

    const items = [];

    /* Maak items */
    itemsData.forEach((data, i) => {
        const wrapper = document.createElement("div");
        wrapper.className = "item";

        if (data.type === "image") {
            const img = document.createElement("img");
            img.src = data.src;
            wrapper.appendChild(img);
        }

        if (data.type === "video") {
            const video = document.createElement("video");
            video.src = data.src;
            video.muted = true;
            video.autoplay = true;
            video.loop = true;
            video.playsInline = true;
            wrapper.appendChild(video);
        }

        circle.appendChild(wrapper);

        items.push({
            el: wrapper,
            angle: (Math.PI * 2 / itemsData.length) * i
        });
    });

    /* Oneindige continue carrousel */
    let lastTime = performance.now();

    function animateCarousel(time) {
        const delta = time - lastTime;
        lastTime = time;

        items.forEach(item => {
            item.angle += angularSpeed * delta;

            const x = Math.cos(item.angle) * radius;
            const y = Math.sin(item.angle) * radius;

            item.el.style.transform = `
            translate(${x}px, ${y}px)
            translate(-50%, -50%)
        `;
        });

        requestAnimationFrame(animateCarousel);
    }

    requestAnimationFrame(animateCarousel);

    /* DVD-logo beweging */
    let px = 100, py = 100;
    let vx = 1.4, vy = 1.2;

    function moveDVD() {
        const w = window.innerWidth;
        const h = window.innerHeight;
        const rect = container.getBoundingClientRect();

        px += vx;
        py += vy;

        if (px <= 0 || px + rect.width >= w) vx *= -1;
        if (py <= 0 || py + rect.height >= h) vy *= -1;

        container.style.transform = `translate(${px}px, ${py}px)`;

        requestAnimationFrame(moveDVD);
    }

    moveDVD();
</script>

</body>
</html>
